select `pmt`.`unique_id` AS `unique_id`,`pmt`.`application_id` AS `proposal_id`,`contracts`.`id` AS `contract_id`,`pmt`.`subject` AS `subject`,concat(convert(`fuc`.`first_name` using utf8),convert(convert(if(((`fuc`.`first_name` <> '') and (`fuc`.`last_name` <> '')),' ','') using utf8) using utf8),convert(`fuc`.`last_name` using utf8)) AS `freelancer_name`,`fusers`.`id` AS `freelancer_id`,concat(`buc`.`first_name`,convert(if(((`buc`.`first_name` <> '') and (`buc`.`last_name` <> '')),' ','') using utf8),`buc`.`last_name`) AS `buyer_name`,`busers`.`id` AS `buyer_id`,`p`.`id` AS `project_id`,`p`.`subject` AS `job_posting`,`c`.`title` AS `related_job`,`pmt`.`created_at` AS `thread_created_at`,`pm`.`id` AS `id`,`pm`.`thread_id` AS `thread_id`,`pm`.`sender_id` AS `sender_id`,`pm`.`message` AS `message`,`pm`.`created_at` AS `created_at`,`pm`.`received_at` AS `received_at`,`pm`.`deleted_at` AS `deleted_at` from (((((((((`project_message_threads` `pmt` join `project_applications` `pa` on((`pa`.`id` = `pmt`.`application_id`))) join `projects` `p` on((`p`.`id` = `pa`.`project_id`))) left join `contracts` `c` on((`c`.`project_id` = `p`.`id`))) join `users` `fusers` on((`fusers`.`id` = `pa`.`user_id`))) left join `user_contacts` `fuc` on((`fuc`.`user_id` = `fusers`.`id`))) join `users` `busers` on((`busers`.`id` = `p`.`client_id`))) left join `user_contacts` `buc` on((`buc`.`user_id` = `busers`.`id`))) left join `project_messages` `pm` on((`pmt`.`id` = `pm`.`thread_id`))) left join `contracts` on((`contracts`.`application_id` = `pmt`.`application_id`)))